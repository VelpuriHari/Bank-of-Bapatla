<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SingUp</title>
    <style>
      .input {
        width: 300px;
        height: 30px;
        border-top: 10px;
        border-left: 10px;
        border-right: 10px;
        padding: 15px;
      }
    </style>
  </head>
  <body>
    <div
      style="
        width: 500px;
        height: 600px;
        text-align: center;
        margin: auto;
        border: solid;
        border-radius: 20px;
      "
    >
      <h1 id="head">SingUp</h1>
      <hr />
      <div
        style="
          height: 150px;
          width: 200px;
          background-color: aquamarine;
          margin: auto;
          border-radius: 10px;
        "
      >
        <marquee direction="right">Bank of bapatla</marquee>
      </div>

      <div>
        <table style="margin: auto; text-align: left">
          <tr>
            <td>
              <h6 id="err" style="color: red"></h6>
            </td>
          </tr>
          <tr>
            <td>
              <input
                class="input"
                id="userid"
                type="text"
                placeholder="Create your user id"
              />
            </td>
          </tr>
          <tr>
            <td>
              <input
                class="input"
                id="email"
                type="email"
                placeholder="example@gmail.com"
              />
            </td>
          </tr>
          <tr>
            <td>
              <input
                class="input"
                id="password"
                type="password"
                placeholder="create password"
              />
            </td>
          </tr>
          <tr>
            <td>
              <input
                class="input"
                id="repassword"
                type="password"
                placeholder="re type password"
              />
            </td>
          </tr>
          <tr style="text-align: center">
            <td>
              <button id="loginForm">Sign Up</button>
            </td>
          </tr>
        </table>
      </div>
    </div>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-app.js";
      import {
        getDatabase,
        ref,
        set,
        onValue,
      } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-database.js";

      const firebaseConfig = {
        apiKey: "AIzaSyDaassIFq9p0Ypc0FDN9uKhj6fHALYygTU",
        authDomain: "bankofbapatla.firebaseapp.com",
        projectId: "bankofbapatla",
        storageBucket: "bankofbapatla.appspot.com",
        messagingSenderId: "101833800062",
        appId: "1:101833800062:web:7d631e50c24084b8655b2f",
        measurementId: "G-M1Z848VMYT",
        databaseURL:
          "https://bankofbapatla-default-rtdb.asia-southeast1.firebasedatabase.app",
      };

      (function () {
        function getText() {
          alert("jdc");
          var userid = document.querySelector("#userid").value;
          var email = document.querySelector("#email").value;
          var password = document.querySelector("#password").value;
          var repassword = document.querySelector("#repassword").value;
          if (password == repassword) {
            const db = getDatabase();
            set(ref(db, "users/" + userid), {
              email: email,
              password: password,
            });
            document.getElementById("err").innerHTML = `Succussefully Sing Up`;
          } else {
            document.getElementById(
              "err"
            ).innerHTML = `The password re entered is not same`;
          }
        }

        document
          .getElementById("loginForm")
          .addEventListener("click", getText, true);
      })();
      const app = initializeApp(firebaseConfig);
      const db = getDatabase();
    </script>
  </body>
</html>
